---
title: Ip API
description: "This API allows you to get the complete location data of an IP address."
---

The IP Geolocation API supports over 190+ countries. It allows you to submit an IP address and get its location data such as the country, city, region, etc.

This API is so powerful that you do not need to specify the IP address of your current location. It automatically detects the IP address the query came from.

In `abstract-python`, the `IpAPI` class is used to make requests to Abstract's IP Geolocation API.

The `IpAPI.ip_info()` method is used to get Ip address info.

## Method parameters

Below are the parameters for this method:

- **ip_address (String):** The ip_address you want to get location data for. The IpAPI supports both IPv4 and IPv6 addresses.
  If this field is left blank, the response will contain the location data of the IP address from which the request was made from.

- **fields (_String_):** This parameter is used to limit the response to a few fields. For instance, you may prefer the response to only contain the country, city and region.
  You can add this in your query as a comma separated list like this: `fields="country,city,region"`

## Usage

Below is a sample code that uses this method:

```python
from abstract_python import IpAPI

api_key = "your-ip-api-key"

api = IpAPI(IP_API_KEY)
print(ip.ip_info())
```

Below is the response object:

```python
{
    'ip_address': '105.113.58.23',
    'city': 'Lagos',
    'city_geoname_id': 2332459,
    'region': 'Lagos',
    'region_iso_code': 'LA',
    'region_geoname_id': 2332453,
    'postal_code': None,
    'country': 'Nigeria',
    'country_code': 'NG',
    'country_geoname_id': 2328926,
    'country_is_eu': False,
    'continent': 'Africa',
    'continent_code': 'AF',
    'continent_geoname_id': 6255146,
    'longitude': 3.3903,
    'latitude': 6.4474,
    'security': {'is_vpn': False},
    'timezone': {
        'name': 'Africa/Lagos',
        'abbreviation': 'WAT',
        'gmt_offset': 1,
        'current_time': '00:56:55',
        'is_dst': False
    },
    'flag': {
        'emoji': 'ðŸ‡³ï¿½'',
        'unicode': 'U+1F1F3 U+1F1EC',
        'png': 'https://staticc.abstractapi.com/country-flags/NG_flag.png',
        'svg': 'https://static.abstractapi.com/country-flags/NG_flag.svg'},
        'currency': {'currency_name': 'Naira', 'currency_code': 'NGN'},
        'connection': {
            'autonomous_system_number': 36873,
            'autonomous_system_organization': 'Celtel Nigeria Limited t.a ZAIN',
            'connection_type': 'Corporate',
            'isp_name': 'Airtel Networks Limited',
            'organization_name': 'Airtel Networks Limited'
        },
    'status': 200
}
```

## Specify Ip address

You can also specify a unique IP address in your query to get its location data.

Below is a code snippet that does this:

```python
from abstract_python import IpAPI

api_key = "your-ip-api-key"
ip_address = "105.113.58.23"

api = IpAPI(IP_API_KEY)
print(ip.ip_info(ip_address))
```

The code above uses the IP address in the previous response. Below is the response object for the code above:

```python
{
    'ip_address': '105.113.58.23',
    'city': 'Lagos',
    'city_geoname_id': 2332459,
    'region': 'Lagos',
    'region_iso_code': 'LA',
    'region_geoname_id': 2332453,
    'postal_code': None,
    'country': 'Nigeria',
    'country_code': 'NG',
    'country_geoname_id': 2328926,
    'country_is_eu': False,
    'continent': 'Africa',
    'continent_code': 'AF',
    'continent_geoname_id': 6255146,
    'longitude': 3.3903,
    'latitude': 6.4474,
    'security': {'is_vpn': False},
    'timezone': {
        'name': 'Africa/Lagos',
        'abbreviation': 'WAT',
        'gmt_offset': 1,
        'current_time': '00:56:55',
        'is_dst': False
    },
    'flag': {
        'emoji': 'ðŸ‡³ï¿½'',
        'unicode': 'U+1F1F3 U+1F1EC',
        'png': 'https://staticc.abstractapi.com/country-flags/NG_flag.png',
        'svg': 'https://static.abstractapi.com/country-flags/NG_flag.svg'},
        'currency': {'currency_name': 'Naira', 'currency_code': 'NGN'}, 'connection': {'autonomous_system_number': 36873, 'autonomous_system_organization': 'Celtel Nigeria Limited t.a ZAIN', 'connection_type': 'Corporate', 'isp_name': 'Airtel Networks Limited', 'organization_name': 'Airtel Networks Limited'}, 'status': 200}
```

## Limit response fields

The IpAPI also allows you to limit the response data to certain fields.
Below is an example code to limit response data using the `fields` argument:

```python
from abstract_python import IpAPI

api_key = "your-ip-api-key"
ip_address = "105.113.58.23"
fields = "ip_address, city, region, region_geoname_id, country"

api = IpAPI(IP_API_KEY)
print(ip.ip_info(ip_address, fields=fields))
```

Below is the response object:

```python
{
    'ip_address': '105.113.58.23',
    'city': 'Lagos',
    'region': 'Lagos',
    'region_geoname_id': 2332453,
    'country': 'Nigeria',
    'status': 200
}
```
